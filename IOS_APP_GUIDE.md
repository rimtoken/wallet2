# دليل بناء تطبيق RimToken لنظام iOS

هذا الدليل يشرح كيفية بناء تطبيق RimToken لنظام iOS باستخدام Capacitor.

## المتطلبات المسبقة

1. جهاز Mac مع نظام macOS محدث
2. تثبيت Xcode (أحدث إصدار) - [تحميل من App Store](https://apps.apple.com/us/app/xcode/id497799835)
3. تثبيت CocoaPods - `sudo gem install cocoapods`
4. حساب مطور Apple (للنشر على App Store)
5. تثبيت Node.js و npm

## الخطوات

### 1. بناء تطبيق الويب

قبل إنشاء تطبيق iOS، نحتاج إلى بناء تطبيق الويب:

```bash
npm run build
```

### 2. إضافة منصة iOS

بعد بناء تطبيق الويب، نضيف منصة iOS:

```bash
npx cap add ios
```

### 3. نسخ ملفات الويب المبنية إلى مشروع iOS

```bash
npx cap copy ios
```

### 4. تحديث ملفات المشروع

```bash
npx cap update ios
```

### 5. تخصيص الأيقونات وشاشة البداية

يمكنك تخصيص أيقونات التطبيق وشاشة البداية في:
- أيقونات التطبيق: `ios/App/App/Assets.xcassets/AppIcon.appiconset/`
- شاشة البداية: `ios/App/App/Assets.xcassets/Splash.imageset/`

يمكنك استخدام Xcode أو أدوات مثل [Capacitor Assets](https://github.com/ionic-team/capacitor-assets) لتوليد هذه الأصول.

### 6. فتح المشروع في Xcode

```bash
npx cap open ios
```

### 7. إعداد معرف التطبيق وشهادات التوقيع

1. في Xcode، انقر على مشروع "App" في المتصفح.
2. حدد هدف "App" تحت "TARGETS".
3. في علامة التبويب "Signing & Capabilities":
   - حدد فريق تطوير Apple الخاص بك.
   - تأكد من أن "Automatically manage signing" مُفعل.
   - تحقق من معرف حزمة التطبيق (Bundle Identifier): يجب أن يكون `com.rimtoken.app` كما حددنا في `capacitor.config.ts`.

### 8. تكوين إشعارات Push (اختياري)

1. في علامة التبويب "Signing & Capabilities"، انقر على "+ Capability".
2. أضف "Push Notifications".
3. أضف أيضًا "Background Modes" وحدد "Remote notifications".

### 9. بناء وتشغيل التطبيق

1. اختر جهاز محاكاة أو جهاز فعلي من قائمة الأجهزة في Xcode.
2. انقر على زر "Play" للبناء وتشغيل التطبيق.

### 10. إنشاء ملف توزيع

لإنشاء ملف `.ipa` للتوزيع:
1. في Xcode، اختر "Product" > "Archive".
2. بعد اكتمال الأرشفة، سيظهر "Organizer".
3. حدد الأرشيف وانقر على "Distribute App".
4. اتبع خطوات معالج التوزيع اعتمادًا على طريقة التوزيع المطلوبة.

## ميزات التطبيق المضمنة

1. **الإشعارات**: دعم لإشعارات Push للتنبيه عند تغيرات الأسعار.
2. **العمل بدون إنترنت**: يمكن للتطبيق العمل بدون اتصال بالإنترنت.
3. **تجربة مستخدم أصلية**: استفادة من ميزات iOS مثل شاشة البداية وشريط الحالة.
4. **المصادقة البيومترية**: إمكانية استخدام Face ID أو Touch ID لتأمين التطبيق.

## الاستخدام المثالي للتطبيق

1. **متابعة محفظتك**: تتبع قيمة أصولك الرقمية في أي وقت ومن أي مكان.
2. **تبادل العملات**: إجراء عمليات تبادل بين العملات المشفرة المختلفة بسهولة.
3. **الإشعارات**: استلام إشعارات عن تغيرات الأسعار المهمة.
4. **عرض السوق**: متابعة أسعار وتحركات العملات المشفرة المختلفة.

## استكشاف الأخطاء وإصلاحها

1. **مشاكل التثبيت**: إذا واجهت مشاكل مع CocoaPods، جرب تنفيذ `pod install` في مجلد `ios/App`.
2. **مشاكل الشهادات**: تأكد من صلاحية شهادات التوقيع وملف التعريف.
3. **مشاكل الإشعارات**: تأكد من تكوين الإشعارات بشكل صحيح في Apple Developer Portal.

## توزيع التطبيق

لتوزيع التطبيق على App Store:
1. أنشئ إصدارًا جديدًا في App Store Connect.
2. أضف معلومات التطبيق، ولقطات الشاشة، والوصف.
3. قم بتحميل ملف .ipa الذي تم إنشاؤه باستخدام Xcode.
4. قدم التطبيق للمراجعة.

## تحديثات مستقبلية

سيتم تحديث التطبيق بشكل دوري لإضافة ميزات جديدة وتحسين الأداء والأمان، مع مراعاة متطلبات نظام iOS المتطورة.